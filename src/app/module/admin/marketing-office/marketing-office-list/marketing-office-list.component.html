<div class="container-fluid">
  <h4 class="c-grey-900 mT-10 mB-30">{{'label.marketingOffice' | translate}}</h4>
  <div class="row">
    <div class="col-md-12">
      <div class="bgc-white bd bdrs-3 p-20 mB-20">

        <header class="d-flex justify-content-between mB-20">
          <h4 class="c-grey-900">{{'label.list' | translate}} {{'label.marketingOffice' | translate}}</h4>
          <button class="btn btn-primary"
            [routerLink]="'new-marketing-office'">
            {{'label.new' | translate}} {{'label.marketingOffice' | translate}}
          </button>
        </header>

        <div id="dataTable_wrapper" class="dataTables_wrapper" >
          <table id="dataTable" class="mat-table-info" mat-table [dataSource]="dataSource">
                 
            <!-- marketingName Column -->
            <ng-container matColumnDef="marketingName">
              <th mat-header-cell *matHeaderCellDef> {{'label.marketingOffice'| translate}} </th>
              <td mat-cell *matCellDef="let element"> 
                {{element.name}} 
                <span class="c-deep-orange-500" *ngIf="!element.name"> - </span>
              </td>
            </ng-container>

            <!-- agnet Column -->
            <ng-container matColumnDef="agent">
              <th mat-header-cell *matHeaderCellDef> {{'label.agent'| translate}} </th>
              <td mat-cell *matCellDef="let element"> {{element.agent}} 
                <span class="c-deep-orange-500" *ngIf="!element.agent"> - </span>
              </td>
            </ng-container>
            
              <!-- email Column -->
              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> {{'label.email'| translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element.email}}  
                  <span class="c-deep-orange-500" *ngIf="!element.email"> - </span>
                </td>
              </ng-container>

              <!-- phoneNumber Column -->
              <ng-container matColumnDef="phoneNumber">
                <th mat-header-cell *matHeaderCellDef> {{'label.phoneNumber'| translate}} </th>
                <td mat-cell *matCellDef="let element">
                  {{element.phone}}
                  <span class="c-deep-orange-500"> - </span>
                  {{element.phone}}
                </td>
              </ng-container>
  
            <!-- country Column -->
            <ng-container matColumnDef="country">
              <th mat-header-cell *matHeaderCellDef> {{'label.country'| translate}} </th>
              <td mat-cell *matCellDef="let element">
                <div class="d-flex flex-column"  *ngIf="element.countries.length > 0">
                  <span *ngFor="let country of element.countries">
                    {{country.title}} 
                    <span class="c-deep-orange-500"> - </span>
                  </span>
                </div>
                <span class="c-deep-orange-500" *ngIf="element.countries.length == 0"> - </span>
              </td>
            </ng-container>

            <!-- customers Column -->
            <ng-container matColumnDef="customers">
              <th mat-header-cell *matHeaderCellDef> {{'label.customers'| translate}} </th>
              <td mat-cell *matCellDef="let element">
                <div class="d-flex flex-column"  *ngIf="element.countries.length > 0">
                  <span *ngFor="let country of element.countries">
                    {{country.title}} 
                    <span class="c-deep-orange-500"> - </span>
                  </span>
                </div>
                <span class="c-deep-orange-500" *ngIf="element.countries.length == 0"> - </span>
              </td>
            </ng-container>
  
            <!-- Operation Column -->
            <ng-container matColumnDef="operation">
              <th mat-header-cell *matHeaderCellDef> Operation </th>
              <td mat-cell *matCellDef="let element">
                <div class="gap-10 peers">
                  <div class="peer">
                    <button routerLink="edit-marketing-office/{{element.id}}"
                    class="btn btn-outline-primary btn-sm" matTooltip="Edit" matTooltipPosition="above"
                    matTooltipClass="tooltip-pink">
                    <i class="ti-pencil"></i>
                  </button>
                  </div>
                  <div class="peer">
                    <button (click)="deleteMarketing(element.id)" class="btn cur-p btn-outline-danger btn-sm"
                    matTooltip="Delete" matTooltip="Delete" matTooltipPosition="above" matTooltipClass="tooltip-pink">
                    <i class="ti-trash"></i>
                  </button>
                  </div>
                </div>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons (page)="paginatorEvent($event)">
          </mat-paginator>
  
        </div>
      </div>
    </div>
  </div>
</div>
